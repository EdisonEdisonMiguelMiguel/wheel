<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrichunks Wheel Of Fortune</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .container {
            text-align: center;
            max-width: 800px;
            padding: 20px;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: glow 2s ease-in-out infinite alternate;
            white-space: nowrap;
        }

        @keyframes glow {
            from { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.3); }
            to { text-shadow: 2px 2px 4px rgba(0,0,0,0.3), 0 0 30px rgba(255,255,255,0.5); }
        }

        .wheel-container {
            position: relative;
            margin: 40px auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .wheel {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            border: 8px solid #fff;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.3);
            transition: transform 4s cubic-bezier(0.23, 1, 0.32, 1);
            background: conic-gradient(
                #ff4444 0deg 45deg,
                #44ff44 45deg 90deg,
                #4444ff 90deg 135deg,
                #ffff44 135deg 180deg,
                #ff44ff 180deg 225deg,
                #44ffff 225deg 270deg,
                #ff8844 270deg 315deg,
                #88ff44 315deg 360deg
            );
        }

        .wheel-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            pointer-events: none;
        }

        .text-item {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 90px;
            height: 35px;
            background: rgba(255,255,255,0.95);
            border: 1px solid #000;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            color: #000;
            text-align: center;
            line-height: 1.1;
            padding: 2px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.3);
            transform-origin: center center;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .text-item:nth-child(1) {
            transform: translate(-50%, -50%) rotate(22.5deg) translateY(-150px) rotate(-22.5deg);
        }
        .text-item:nth-child(2) {
            transform: translate(-50%, -50%) rotate(67.5deg) translateY(-150px) rotate(-67.5deg);
        }
        .text-item:nth-child(3) {
            transform: translate(-50%, -50%) rotate(112.5deg) translateY(-150px) rotate(-112.5deg);
        }
        .text-item:nth-child(4) {
            transform: translate(-50%, -50%) rotate(157.5deg) translateY(-150px) rotate(-157.5deg);
        }
        .text-item:nth-child(5) {
            transform: translate(-50%, -50%) rotate(202.5deg) translateY(-150px) rotate(-202.5deg);
        }
        .text-item:nth-child(6) {
            transform: translate(-50%, -50%) rotate(247.5deg) translateY(-150px) rotate(-247.5deg);
        }
        .text-item:nth-child(7) {
            transform: translate(-50%, -50%) rotate(292.5deg) translateY(-150px) rotate(-292.5deg);
        }
        .text-item:nth-child(8) {
            transform: translate(-50%, -50%) rotate(337.5deg) translateY(-150px) rotate(-337.5deg);
        }

        .wheel-pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 40px solid #fff;
            z-index: 10;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
        }

        .spin-button {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            margin-top: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .spin-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);
        }

        .spin-button:active {
            transform: translateY(-1px);
        }

        .spin-button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .form-container {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 40px;
            border-radius: 20px;
            margin-top: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .form-container.show {
            display: block;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .prize-announcement {
            font-size: 2rem;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .submit-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .success-message {
            display: none;
            background: #4ecdc4;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 1.1rem;
        }

        .coupon-container {
            display: none;
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .coupon-container.show {
            display: block;
            animation: slideUp 0.5s ease-out;
        }

        .coupon-code {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px dashed rgba(255,255,255,0.5);
        }

        .coupon-code h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .coupon-code .code {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            font-weight: bold;
            letter-spacing: 3px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .copy-button {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .copy-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .loading {
            display: none;
            color: #667eea;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        .mystery-text {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
        }

        @keyframes sparkle {
            0% { opacity: 1; transform: translateY(0) scale(0); }
            50% { opacity: 1; transform: translateY(-100px) scale(1); }
            100% { opacity: 0; transform: translateY(-200px) scale(0); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
                max-width: 95%;
            }
            
            .wheel {
                width: 280px;
                height: 280px;
            }
            
            h1 {
                font-size: 1.4rem;
                margin-bottom: 15px;
                white-space: normal;
                line-height: 1.2;
            }
            
            .form-container, .coupon-container {
                padding: 15px;
                margin-top: 20px;
            }

            .text-item {
                width: 85px;
                height: 32px;
                font-size: 9px;
            }

            .text-item:nth-child(1) {
                transform: translate(-50%, -50%) rotate(22.5deg) translateY(-105px) rotate(-22.5deg);
            }
            .text-item:nth-child(2) {
                transform: translate(-50%, -50%) rotate(67.5deg) translateY(-105px) rotate(-67.5deg);
            }
            .text-item:nth-child(3) {
                transform: translate(-50%, -50%) rotate(112.5deg) translateY(-105px) rotate(-112.5deg);
            }
            .text-item:nth-child(4) {
                transform: translate(-50%, -50%) rotate(157.5deg) translateY(-105px) rotate(-157.5deg);
            }
            .text-item:nth-child(5) {
                transform: translate(-50%, -50%) rotate(202.5deg) translateY(-105px) rotate(-202.5deg);
            }
            .text-item:nth-child(6) {
                transform: translate(-50%, -50%) rotate(247.5deg) translateY(-105px) rotate(-247.5deg);
            }
            .text-item:nth-child(7) {
                transform: translate(-50%, -50%) rotate(292.5deg) translateY(-105px) rotate(-292.5deg);
            }
            .text-item:nth-child(8) {
                transform: translate(-50%, -50%) rotate(337.5deg) translateY(-105px) rotate(-337.5deg);
            }
            
            .spin-button {
                padding: 12px 30px;
                font-size: 1.2rem;
                margin-top: 20px;
            }
            
            .prize-announcement {
                font-size: 1.5rem;
                line-height: 1.3;
            }
            
            .form-group input {
                padding: 10px;
                font-size: 16px;
            }
            
            .submit-button {
                padding: 12px 30px;
                font-size: 1rem;
            }

            .coupon-code .code {
                font-size: 1.5rem;
                letter-spacing: 2px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }
            
            .wheel {
                width: 250px;
                height: 250px;
            }
            
            h1 {
                font-size: 1.2rem;
                margin-bottom: 10px;
            }
            
            .text-item {
                width: 80px;
                height: 30px;
                font-size: 8px;
            }

            .text-item:nth-child(1) {
                transform: translate(-50%, -50%) rotate(22.5deg) translateY(-93px) rotate(-22.5deg);
            }
            .text-item:nth-child(2) {
                transform: translate(-50%, -50%) rotate(67.5deg) translateY(-93px) rotate(-67.5deg);
            }
            .text-item:nth-child(3) {
                transform: translate(-50%, -50%) rotate(112.5deg) translateY(-93px) rotate(-112.5deg);
            }
            .text-item:nth-child(4) {
                transform: translate(-50%, -50%) rotate(157.5deg) translateY(-93px) rotate(-157.5deg);
            }
            .text-item:nth-child(5) {
                transform: translate(-50%, -50%) rotate(202.5deg) translateY(-93px) rotate(-202.5deg);
            }
            .text-item:nth-child(6) {
                transform: translate(-50%, -50%) rotate(247.5deg) translateY(-93px) rotate(-247.5deg);
            }
            .text-item:nth-child(7) {
                transform: translate(-50%, -50%) rotate(292.5deg) translateY(-93px) rotate(-292.5deg);
            }
            .text-item:nth-child(8) {
                transform: translate(-50%, -50%) rotate(337.5deg) translateY(-93px) rotate(-337.5deg);
            }
            
            .form-container, .coupon-container {
                padding: 12px;
            }
            
            .prize-announcement {
                font-size: 1.3rem;
            }

            .coupon-code .code {
                font-size: 1.2rem;
                letter-spacing: 1px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎉 Nutrichunks Wheel Of Fortune 🎉</h1>
        
        <div class="wheel-container">
            <div class="wheel-pointer"></div>
            <div class="wheel" id="wheel">
                <div class="wheel-text">
                    <div class="text-item mystery-text">🎁 Prize 1</div>
                    <div class="text-item mystery-text">🎁 Prize 2</div>
                    <div class="text-item mystery-text">🎁 Prize 3</div>
                    <div class="text-item mystery-text">🎁 Prize 4</div>
                    <div class="text-item mystery-text">🎁 Prize 5</div>
                    <div class="text-item mystery-text">🎁 Prize 6</div>
                    <div class="text-item mystery-text">🎁 Prize 7</div>
                    <div class="text-item mystery-text">🎁 Prize 8</div>
                </div>
            </div>
        </div>

        <button class="spin-button" id="spinButton">SPIN THE WHEEL!</button>

        <div class="form-container" id="formContainer">
            <div class="prize-announcement" id="prizeAnnouncement"></div>
            <p style="margin-bottom: 20px; color: #666;">Congratulations! Please fill out your details below to get your coupon code:</p>
            
            <form id="prizeForm">
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="address">Address *</label>
                    <input type="text" id="address" name="address" required placeholder="Your complete address">
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                
                <button type="submit" class="submit-button">GET MY COUPON CODE!</button>
                <div class="loading" id="loading">Generating your coupon code...</div>
            </form>
        </div>

        <div class="coupon-container" id="couponContainer">
            <h2>🎉 Congratulations! 🎉</h2>
            <p style="margin-bottom: 20px;">Here's your exclusive coupon code:</p>
            
            <div class="coupon-code">
                <h3>Your Coupon Code</h3>
                <div class="code" id="couponCode">LOADING...</div>
                <button class="copy-button" onclick="copyCouponCode()">📋 Copy Code</button>
            </div>
            
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 20px;">
                <p><strong>How to redeem:</strong></p>
                <p style="margin-top: 10px;">Present this coupon code at any Nutrichunks store or contact us to claim your prize!</p>
            </div>
        </div>
    </div>

    <script>
        const wheel = document.getElementById('wheel');
        const spinButton = document.getElementById('spinButton');
        const formContainer = document.getElementById('formContainer');
        const couponContainer = document.getElementById('couponContainer');
        const prizeAnnouncement = document.getElementById('prizeAnnouncement');
        const prizeForm = document.getElementById('prizeForm');
        const loading = document.getElementById('loading');
        const couponCodeElement = document.getElementById('couponCode');

        // Hidden actual prizes (customers can't see these)
        const actualPrizes = [
            'Better Luck Next Time',
            'Free Alphapro Reg bites (1kg)',
            'Free Beef Treat',
            'Free Milk Sticks',
            'Better Luck Next Time',
            'Free Dewormer (2pcs Wormshot)',
            'Free Multivitamins for Dogs',
            'Free Alphapro Reg bites (5kg)'
        ];

        let currentPrize = '';
        let hasSpun = false;
        let generatedCouponCode = '';

        // Generate unique coupon code
        function generateCouponCode() {
            // Generate a unique code: NC + 8 random alphanumeric characters
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = 'NC';
            for (let i = 0; i < 8; i++) {
                result += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return result;
        }

        // Copy coupon code to clipboard
        function copyCouponCode() {
            navigator.clipboard.writeText(generatedCouponCode).then(() => {
                const button = document.querySelector('.copy-button');
                const originalText = button.textContent;
                button.textContent = '✅ Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = generatedCouponCode;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                const button = document.querySelector('.copy-button');
                const originalText = button.textContent;
                button.textContent = '✅ Copied!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            });
        }

        spinButton.addEventListener('click', function() {
            if (hasSpun) return;
            
            hasSpun = true;
            spinButton.disabled = true;
            spinButton.textContent = 'SPINNING...';
            
            const minRotations = 5;
            const maxRotations = 8;
            const rotations = Math.random() * (maxRotations - minRotations) + minRotations;
            const finalRotation = rotations * 360;
            
            const segmentAngle = 45;
            const normalizedAngle = (360 - (finalRotation % 360)) % 360;
            const winningSegmentIndex = Math.floor(normalizedAngle / segmentAngle);
            currentPrize = actualPrizes[winningSegmentIndex];
            
            wheel.style.transform = `rotate(${finalRotation}deg)`;
            
            setTimeout(() => {
                if (currentPrize === 'Better Luck Next Time') {
                    const noWinMessage = document.createElement('div');
                    noWinMessage.style.cssText = `
                        background: rgba(255, 255, 255, 0.95);
                        color: #333;
                        padding: 30px;
                        border-radius: 20px;
                        margin-top: 30px;
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
                        backdrop-filter: blur(10px);
                        text-align: center;
                        animation: slideUp 0.5s ease-out;
                    `;
                    noWinMessage.innerHTML = `
                        <h2 style="color: #ff6b6b; font-size: 2rem; margin-bottom: 15px;">Sorry, Better Luck Next Time! 😔</h2>
                        <p style="font-size: 1.1rem; color: #666;">Thank you for playing! Keep an eye out for more chances to win amazing prizes!</p>
                    `;
                    formContainer.parentNode.appendChild(noWinMessage);

                    spinButton.textContent = 'GAME OVER';
                } else {
                    prizeAnnouncement.textContent = `🎉 Amazing! You won ${currentPrize}! 🎉`;
                    formContainer.classList.add('show');
                    spinButton.textContent = 'ALREADY SPUN';
                }
            }, 4000);
        });

        prizeForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(prizeForm);
            
            // Generate unique coupon code
            generatedCouponCode = generateCouponCode();
            
            loading.style.display = 'block';
            prizeForm.style.opacity = '0.6';
            
            // Debug: Log the data we're trying to submit
            console.log('Submitting data:');
            console.log('Name:', formData.get('name'));
            console.log('Address:', formData.get('address'));
            console.log('Phone:', formData.get('phone'));
            console.log('Prize:', currentPrize);
            console.log('Coupon Code:', generatedCouponCode);
            
            // Submit to Google Forms
            const googleFormId = '1q-bDlzeUUXrPuxQfGcZBbk7Efti91mbFGVaV1uXwhyQ';
            
            const submitForm = document.createElement('form');
            submitForm.action = `https://docs.google.com/forms/d/${googleFormId}/formResponse`;
            submitForm.method = 'POST';
            submitForm.target = 'submit_iframe';
            submitForm.style.display = 'none';
            
            // Add all the form fields including coupon code
            const fields = [
                { name: 'entry.679261767', value: formData.get('name') },
                { name: 'entry.1885585701', value: formData.get('address') },
                { name: 'entry.145018537', value: formData.get('phone') },
                { name: 'entry.6896157', value: currentPrize },
                { name: 'entry.783209263', value: generatedCouponCode }
            ];
            
            fields.forEach(field => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = field.name;
                input.value = field.value || '';
                submitForm.appendChild(input);
            });
            
            // Create iframe to handle the submission
            const iframe = document.createElement('iframe');
            iframe.name = 'submit_iframe';
            iframe.style.display = 'none';
            iframe.style.width = '1px';
            iframe.style.height = '1px';
            
            // Handle iframe load events
            let submitted = false;
            iframe.onload = function() {
                if (!submitted) {
                    submitted = true;
                    console.log('Form submission completed');
                    
                    // Clean up
                    setTimeout(() => {
                        if (document.body.contains(submitForm)) {
                            document.body.removeChild(submitForm);
                        }
                        if (document.body.contains(iframe)) {
                            document.body.removeChild(iframe);
                        }
                    }, 1000);
                }
            };
            
            // Append elements and submit
            document.body.appendChild(iframe);
            document.body.appendChild(submitForm);
            
            console.log('Submitting to:', submitForm.action);
            submitForm.submit();
            
            // Show coupon code after submission
            setTimeout(() => {
                formContainer.style.display = 'none';
                loading.style.display = 'none';
                
                // Display the coupon code
                couponCodeElement.textContent = generatedCouponCode;
                couponContainer.classList.add('show');
                
                // Create celebration effect
                createCelebration();
            }, 2000);
        });

        // Create celebration sparkles
        function createCelebration() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createSparkle();
                }, i * 100);
            }
        }

        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = ['✨', '🎉', '🎊', '⭐'][Math.floor(Math.random() * 4)];
            sparkle.style.position = 'fixed';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.fontSize = Math.random() * 25 + 15 + 'px';
            sparkle.style.pointerEvents = 'none';
            sparkle.style.zIndex = '1000';
            sparkle.style.animation = 'sparkle 3s ease-out forwards';
            
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 3000);
        }

        // Regular sparkle effect
        setInterval(createSparkle, 4000);

        // Make the copy function globally available
        window.copyCouponCode = copyCouponCode;
    </script>
</body>
</html>
